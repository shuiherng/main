= PatientBook - User Guide
:site-section: UserGuide
:toc:
:toc-title:
:toc-placement: preamble
:sectnums:
:imagesDir: images
:stylesDir: stylesheets
:xrefstyle: full
:experimental:
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
endif::[]
:repoURL: https://github.com/CS2103-AY1819S1-T12-2/main

By: `Team T12-2`      Since: `Jun 2016`      Licence: `MIT`
[[Features]]
== Features

====
*Command Format*

.   Commands are, in general, case sensitive.
.   Words in `UPPER_CASE` are parameters to be supplied by the user. eg. in `add patient n/NAME`, `NAME` is a parameter which can be used as `add n/John Doe`.
.   Items in square brackets are optional. +
    eg. in `add patient [t/TAG]`, `TAG` is an optional parameter.
.   Parameters with prefixes may be specified in any order, eg. all parameters for `add patient`, such as `n/NAME` and `a/ADDRESS` can be specified in any order
====

=== View help : `help`

*Format:* `help`

Opens this user guide to display information on how to use PatientBook. Help command works in both patient management
mode and appointment management mode.

=== Switch to patient management mode : `mode patient`

*Format:* `mode patient`

Switches the application to patient management mode. In this mode, you can view and manage patients’ data. When you
enter a valid command regarding patient in appointment management mode, the application will switch to patient management
mode automatically.

.Patient Mode
image::PatientMode.png[width="600"]

=== Switch to appointment management mode : `mode appointment`

*Format:* `mode appointment`

Switches the application to appointment management mode. In this mode, you can view and manage your patient's appointments.
When you enter a valid command regarding appointment in patient management mode, the application will switch to
appointment management mode automatically.

.Appointment Mode
image::AppointmentMode.png[width="600"]

=== Add a patient : `add patient`

*Format:* `add patient n/NAME p/PHONE a/ADDRESS e/EMAIL [t/TAG]`

Creates a new patient record and saves it in the list of all patient records. If necessary, switches the application to patient management mode.

[NOTE]
Any number of tags may be included, or none at all.

Examples:

* `add patient n/John Smith p/90516038 a/New Smith Street, Singapore 519321 e/johnsmith@gmail.com`
* `add patient n/Alice Barker p/62353535 a/4 Pizza Road, Singapore 941023 e/alice_barker@yahoo.com.sg t/friend t/groupmate`

=== Edit patient information : `edit patient`

*Format:* `edit patient PATIENT_ID [n/NAME] [p/PHONE] [a/ADDRESS] [e/EMAIL] [t/TAG]`

Edits an existing patient record. If necessary, switches the application to patient management mode.

[NOTE]
At least one of the optional fields must be provided.

[TIP]
Editing tags will remove all existing tags from the patient and replace them with the new tags. To remove all tags from a patient, use `t/` without any further input after the `/`.

Example:

* `edit patient p229 n/Bob Ross p/95106202`
* `edit patient p24 t/replacedTag t/friend`
* `edit patient p510 a/New Address Road, Singapore 401914 t/`

=== List all patients : `list patient`

*Format:* `list patient [all]`

Shows a list of all patients in the patient record. Using `all` will display all patients deleted in the past. If necessary, switches the application to appointment management mode.

=== Locate patients : `find patient`

*Format:* `find patient KEYWORD [MORE_KEYWORDS]`

*Alternative Format:* `find patient PATIENT_ID`

Notable Behaviour:

* The search is case insensitive, eg. `hans` will match `Hans`
* The order of keywords do not matter, eg. `Hans Bo` will match `Bo Hans`
* Only names in the patient record are searched
* Patients which are marked as deleted can only be found by looking up their Patient ID explicitly. They may not be found via keyword search
* Only full words will be searched, eg. `Han` will *not* match `Hans`
* Patient which match at least one of the keywords will be displayed after running the search, eg. `Hans Bo` will match `Hans Gruber` and `Bo Yang`
* Finding a patient via their ID will match and display patients who have the exact same ID as the search term, unless the ID is for some reason part of another patient's name, in which case they will be displayed as well

Examples:

* `find patient john`
* `find patient Alice bob`
* `find patient p510`

=== Delete a patient record : `delete patient`

*Format:* `delete patient PATIENT_ID`

[NOTE]
Patient records will only be marked as deleted, rather than being removed altogether. This is due to the sensitive nature of patient information

Examples:

* `delete patient p510`
* `delete patient p29`

=== Add an appointment : `add appointment`

*Format:* `add appointment for NAME DATE/DURATION`

Creates a new appointment and places it in the schedule. If necessary, switches the application to appointment management mode.

[NOTE]
Unlike other commands, this command does not require any prefixing.

For `DATE/DURATION` parameter, user may choose to use natural expressions to indicate the time or period where the appointment is to be scheduled. The list of natural expressions for `DATE/DURATION`
which are accepted by the program include:

* `tomorrow` or `tmr`
* `the day after tomorrow` or `the day after tmr`
* `in * day` or `in * days`
* `in * week` or `in * weeks`
* `in * month` or `in * months`
* `this week` or `next week`
* `this month` or `next month`
* `this Monday` `this Tuesday` `this Wednesday` `this Thursday` `this Friday` `this Saturday` or `this Sunday`
* `next Monday` `next Tuesday` `next Wednesday` `next Thursday` `next Friday` `next Saturday` or `next Sunday`
* `soon`
* `recently`
* `in a few days`
* in `DD/MM/YYYY` format
[NOTE]
Asterisk (*) denotes any positive integer number.

After the initial input is processed by the programme, user may encounter a maximum of four prompt windows for further input, including:

* A prompt window where user is required to choose the correct patient to schedule for, if the name provided in the initial input can be matched to multiple patients in the record. `Patient_ID` of the intended patient is to be entered.
* A prompt window where user is required to provide a specific time slot for the appointment, from a list of available time periods, in `DD/MM/YYYY hh:mm - hh:mm` format.
* A prompt window where user may choose to provide any additional notes for the appointment.
* A prompt window where user may choose to provide any tags for the appointment.

Example:

Command entered: `add appointment for Xinze tomorrow`
// we require explicit numbering because the numbering system stops searching for further indices past
// a fenced code block.

1) There are multiple individuals named `Xinze` in the patient record, the program will request for a specific patient ID in a form similar to the following:

.Prompt Window for Patient ID
image::promptName.png[width="600"]

2) Once `Xinze` is matched to a unique patient in the patient record, the program will display a list of available time periods during `tomorrow`, based on the current time at which the command is executed, in another prompt window similar to the following:

.Prompt Window for Time Slot
image::promptTimeSlot.png[width="600"]

3) User further input: `31/10/2018 9:30 - 10:30`. Program proceeds to request for tags to be attached to the appointment, in another prompt window similar to the following:

.Prompt Window for Tags
image::promptTag.png[width="600"]

4) User may choose to provide or not provide any tags. In this case, the user does not wish to attach any tags. After that, program proceeds to request for additional notes for the appointment, in another prompt window similar to the following:

.Prompt Window for Additional Notes
image::promptNotes.png[width="600"]

5) User may choose to provide or not provide any additional notes. In this case, the user does not wish to add any additional notes. Upon completion, program creates the appointment as indicated in the schedule, and displays the following message to the user:


```
New appointment added: Appointment ID: e3 scheduled for patient ID: p7 during: 31/10/2018 09:30 to 31/10/2018 10:30
Details:
Tags:
```

=== Edit appointment information : `edit appointment`

*Format:* `edit appointment APPOINTMENT_ID [p/PATIENT_ID] [t/TIME] [d/NOTES] [s/TAG]`

Edits an existing appointment with the given field in the schedule.  If necessary, switches the application to appointment management mode.

[NOTE]
At least one of the optional fields must be provided.
[NOTE]
To edit the time of the appointment, `[t/TIME]` has to be entered in `DD/MM/YYYY hh:mm - hh:mm` format

Examples:

* `edit appointment e1 s/SecondVisit`
* `edit appointment e1031 p/p5`
* `edit appointment e41032 t/30/10/2019 4:00 - 5:30`

=== List all appointments : `list appointment`

*Format:* `list appointment [all]`

Shows a list of all future appointments scheduled, based on the current time at which the command is executed. Using `all` will display past appointments in the list as well. If necessary, switches the application to appointment management mode.

=== Locate appointments : `find appointment`

*Format:* `find appointment APPOINTMENT_ID`

Shows the appointment as indicated by the `APPOINTMENT_ID`. If necessary, switches the application to appointment management mode.

Example:

* `find appointment e2`

=== Delete an appointment : `delete appointment`

*Format:* `delete appointment APPOINTMENT_ID`

Deletes an appointment as indicated by the `APPOINTMENT_ID`. If necessary, switches the application to appointment management mode.

Example:

* `delete appointment e2`

=== Clear all appointments : `clear schedule`

*Format:* `clear schedule`

Clears all appointments scheduled in the record. If necessary, switches the application to appointment management mode.

=== Add a disease : `add disease`

*Format:* `add disease d/DISEASE s/SYMPTOM`

Adds a new disease to the patient book.

You must include one and only one `DISEASE` parameter with prefix `d/` and at least one `SYMPTOM` for that disease
with prefix `s/`. Duplicate symptoms can be included but only one will be added into the patient book.

When you try to add an existing disease into the patient book, the following error message will be shown to you:

.Error Message for Duplicate Diseases
image::ErrorMessageForAddingExistingDisease.png[width="600"]

Hence, you may try command `find disease NAME` to find related symptoms of this existing disease.

Example:

* `add disease d/acne s/pustules s/blackheads`
* `add disease d/alcohol misuse s/stroke s/stroke s/mouth cancer` +
Symptom 'stroke' will be included once in our record.
* `add disease d/obesity d/obesities` +
This is an invalid command due to multiple occurrence of disease and zero occurrence of symptom. Hence, you will
be prompted to enter a correct command:

.Error Message for Wrong Add Disease Format
image::ErrorMessageForWrongAddDiseaseCommand.png[width="600"]

=== List all diseases : `list disease`

*Format:* `list disease`

Shows a list of all diseases in the patient book.

=== Locate diseases  : `find disease`

*Format:* `find disease NAME`

Finds the disease which its name is specified in the command and return its related symptoms
displayed in alphabetic order.

* The search is case insensitive; e.g. ‘HIV’, ‘hIV’ and ‘hiv’ are all equivalent.
* Only full words will be matched; e.g. ‘confus’ will not match ‘confusion’.

Example:

* `find disease influenza` +
Returns all the symptoms related to disease ‘influenza’:

.Result for Command 'find disease influenza'
image::FindDiseaseInfluenza.png[width="600"]

=== Predict disease  : `predict`

*Format:* `predict s/SYMPTOM`

You must include at least one `SYMPTOM` parameter with prefix `s/` to predict a disease. All
diseases that contain the set of symptoms will be returned and displayed in alphabetic order.

* The `SYMPTOM` parameter is case insensitive; e.g. ‘fever’ will match ‘FeVER’.
* Only diseases containing all the symptoms given in the command will be returned; e.g.
For command `predict s/fever s/blackout`, even if disease ‘bacteremia’ contains symptom ‘fever’,
it will not be returned since it does not contain symptom ‘blackout’.
* If none of diseases contain the given set of symptoms, an error message will be shown to you:

Example:

* `predict s/fever s/blackout` +
Returns diseases which contain the two symptoms:

.Result for Valid Command 'predict s/fever s/blackout'
image::PredictDiseaseValidDemo.png[width="600"]

* `predict s/cry` +
Returns an error message:

.Error Message for Invalid Command 'predict s/cry'
image::PredictInvalidDemo.png[width="600"]

=== List entered commands : `history`

*Format:* `history`

Lists all commands that you have entered in reverse chronological order.

[TIP]
Tip: Pressing up and down arrows will display the previous and next input respectively in the command box.

=== Exit the program : `exit`

*Format:* `exit`

Exits the program.

== Command Summary

* *Add a disease* : `add disease` +

* *Add a patient* : `add patient` +

* *Add an appointment* : `add appointment` +

* *Clear All appointments* : `clear schedule` +

* *Delete a patient* : `delete patient` +

* *Delete an appointment* : `delete appointment` +

* *Edit appointment information* : `edit appointment` +

* *Edit patient information* : `edit patient` +

* *Exit the program* : `exit` +

* *List all appointments* : `list appointment` +

* *List all diseases* : `list disease` +

* *List all patients* : `list patient` +

* *View command history* : `history` +

* *Locate appointments* : `find appointment` +

* *Locate diseases* : `find disease` +

* *Locate patients* : `find patient` +

* *Predict disease* : `predict` +

* *Switch to appointment management mode* : `mode appointment` +

* *Switch to patient management mode:* : `mode patient` +

* *View help* : `help` +
