= PatientBook - User Guide
:site-section: UserGuide
:toc:
:toc-title:
:toc-placement: preamble
:sectnums:
:imagesDir: images
:stylesDir: stylesheets
:xrefstyle: full
:experimental:
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
endif::[]
:repoURL: https://github.com/CS2103-AY1819S1-T12-2/main

By: `Team T12-2`      Since: `Jun 2016`      Licence: `MIT`

== Introduction

PatientBook is a desktop application for medical professionals to manage their patient information and appointment schedule. It is optimized for users who prefer working with a Command Line Interface (CLI) while still having the benefits of a Graphical User Interface (GUI). If you can type fast, PatientBook will allow you to manage and access your patient information, as well as schedule their appointments more efficiently than using a traditional GUI-based application. Refer to Section 2, “Quick Start” to begin.

== Quick Start

.  Ensure you have Java version `9` or later installed in your Computer.
.  Download the latest `patientbook.jar` link:{repoURL}/releases[here].
.  Copy the file to the folder you want to use as the home folder for your Patient Book.
.  Double-click the file to start the app. The GUI should appear in a few seconds.
+
image::Ui.png[width="790"]
+
.  Type the command in the command box and press kbd:[Enter] to execute it. +
e.g. typing *`help`* and pressing kbd:[Enter] will open the help window.
.  Some example commands you can try:

* *`mode user`* or *`mode patient`* : switches to patient management mode
* *`mode calender`* or *`mode cal`* : switches to appointment management mode
* *`add patient`* : automatically switches to patient management mode and begins a dialog to create a new entry in the patient database
* *`delete p301`* : deletes patient with ID '301'
* *`delete a40`* : deletes appointment with ID '40'
* *`delete appointment scheduled at 3pm next Tuesday`* : removes appointment scheduled for 3pm next Tuesday
* *`schedule for Lee next week`* : schedules an appointment next week
* *`exit`* : exits the app

.  Refer to <<Features>> for details of each command.

[[Features]]
== Features

====
*Command Format*

.   Commands are, in general, case sensitive.
.   Words in `UPPER_CASE` are parameters to be supplied by the user, eg. in `add patient n/NAME`, `NAME` is a parameter which can be used as `add n/John Doe`.
.   Items in square brackets are optional. +
    e.g. `make appointment [at 3pm] [next week]` may be entered as `make appointment`, and the program will prompt for the details as required.
.   Parameters may be specified in any order, eg. `make appointment next week at 3pm` is also acceptable for the abovementioned command.
====

[NOTE]
In some places in this guide, you will find that two or more commands have been placed within curly brackets and separated by forward-slashes. This indicates that the commands are equivalent. For example, `{schedule/make} appointment` indicates that `schedule appointment` and `make appointment` are both equally valid.

=== View help : `help`

*Format:* `help`

Opens this user guide to display information on how to use PatientBook.

=== Switch to patient management mode : `mode patient`

*Format:* `mode {patient/user}`

Switches the application to patient management mode. In this mode, you can view and manage patients’ data.

=== Switch to appointment management mode : `mode appointment`

*Format:* `mode {appointment/calendar}`

Switches the application to appointment management mode. In this mode, you can view and manage your patient's appointments.

=== List all patients : `list patients`

*Format:* `list {patients/users}`

Shows a list of all persons in the address book.

=== List all appointments : `list appointments`

*Format:* `list {appointments/schedule} [all]`

Shows a list of all future appointments scheduled. Using `all` will add past appointments in the list as well.

=== Add a patient : `add patient`

*Format:* `add {patient/user} [parameter/value]`

Adds a new patient to the address book. If necessary, switches the application to patient management mode.

You may add any number of parameter-value arguments to this command as long as the parameters are unique (with the exception of tag); the table below lists valid parameters for this command:

.Valid parameters for a patient record
[width="80%",cols="2, 10",options="header"]
|=========================================================
|Parameter | Description
|`a/` | Address
|`e/` | Email
|`n/` | Name
|`p/` | Phone number
|`t/` | Tag
|=========================================================

[TIP]
A person can have any number of tags, or none at all.

The program will require all fields (except `t/`, representing tags) to be filled in before a patient record can be created. Missing fields will be prompted for by the application automatically.

Examples:

* `add n/John Doe p/97019231 e/johnd@example.com a/51 John Street b/O-`
* `add n/Betsy Crowe t/criminal e/betsycrowe@example.com a/Newgate Prison t/critical`
** Program will prompt for this patient's phone number before a record is created

=== Create an appointment : `schedule`

*Format:* `schedule for [name] [natural expression for duration/date]`

Creates a new appointment and places it in the schedule. If necessary, switches the application to appointment management mode.

[NOTE]
This command does not require prefixing each field. If multiple users match the name provided, a prompt will be displayed to determine who the appointment is scheduled for. The program will also automatically prompt for refinement of input time where appropriate.

Natural expressions which are accepted by the program include:

* tomorrow/tmr
* the day after tomorrow/tmr
* in * day(s)
* in * week(s)
* in * month(s)
* this/next week
* this/next month
* this/next Monday/Tuesday/Wednesday/Thursday/Friday/Saturday/Sunday
* soon
* recently
* in a few days
* DD/MM/YYYY
[NOTE]
Asterisk (*) denotes any positive integer number.
[NOTE]
Abbreviated forms for days of week are also accepted, eg. Mon

Example interaction with user:

Command entered: `schedule for David Lee next week`
// we require explicit numbering because the numbering system stops searching for further indices past
// a fenced code block.

1) If there are multiple individuals named `David Lee` in the patient records, the program will request for a specific name in a form similar to the following:

```
Select patient corresponding to 'David Lee':
   1) [p301]    David Jonathan Lee
   2) [p1015]   David Lee Ze Gang

   Select via list entry or personId:
```
2) Once `David Lee` is matched to a unique name in the patient list, the program will display output similar to the following:
```
From 22/10/2018 to 28/10/2018, you have empty time slots during:
   1) 22/10/2018 MON: 9:00 to 18:00
   2) 24/10/2018 WED: 10:00 to 11:00 and 13:00 to 15:00 and 17:00 to 18:00
   3) 26/10/2018 FRI: 9:00 to 12:00 and 14:00 to 18:00

   Enter selected time slot:
```
3) User further input: `22/10/2018 9:30 to 10:30`. Program parses the input, and creates an appointment with the following output displayed to the user:
```
Appointment created for [p301] David Jonathan Lee
    Date:        22/10/2018
    Start Time:  9:30 am
    End Time:    10:30 am
```

=== Edit patient information : `edit patient`

Edits an existing patient in the address book. Automatically switches to patient management mode if necessary.

*Format:* `edit patient [name] [new parameters]`

The application will look up patient which match `[name]`, and prompt the user to select the desired patient for modification if more than one is found. Valid parameters are given in the same format as `add patient`.

[NOTE]
If tags (denoted by parameters beginning with `t/`) are given, all tags will be overwritten with the new tag(s) provided. To remove all tags, use `t/` without any tag name.

Examples:

* `edit John Doe p/5192310 e/johnd@example.com`
* `change p5102 n/Betsy Crower t/`

=== Edit an appointment : `edit appointment`

*Format:* `edit appointment [appointment ID] [new appointment details]`

Edits an existing appointment in the calendar. Automatically switches to appointment management mode if necessary.

The command accepts `[new appointment details]` as a natural expression denoting the new date and time for the appointment. Refer to `add appointment` for sample expressions.

Examples:

* `edit appointment a1031 next Tuesday at 3pm`
* `edit appointment a41032 30/10/2019 4pm-5:30pm`

=== Locate patients by name : `find patient`

*Format:* `find patient [keywords]`

Finds patients whose names contain any of the given `[keywords]`. Automatically switches to patient management mode if necessary.

****
* The search is case insensitive; e.g. 'hans' will match with 'Hans'.
* The order of keywords does not matter; e.g. 'Hans Bo' will match with 'Bo Hans'.
* Only the name is searched.
* Only full words will be matched e.g. 'Han' will not match 'Hans'.
* Persons matching at least one keyword will be returned (i.e. 'OR' search); e.g. 'Hans Bo' will return 'Hans Gruber' as well as 'Bo Yang'.
****

Examples:

* `find patient John` +
Returns patient 'John'.

* `find patient Betsy Tim John` +
Returns any person whose name contain 'Betsy', 'Tim' or 'John'.

=== Locate an appointment : `find appointment`

*Format:* `find [all] appointments [Patient] [natural expression]`

*Alternative Format:* `find [all] appointments [Patient] from [natural expression] to [natural expression]`

* The command only shows future appointments by default.
* Using `[all]` will include all past appointments in the results.
* The `[Patient]` parameter is optional, and will filter appointments scheduled for the given patient if it is present.
* The natural expression follows the same form as that used in `add appointment`, except a date range is also supported to bound the search.

Examples:

* `find all appt John Doe` +
Returning all appointments for John Doe, including past appointments.

* `find appointments from last Monday till now` +
Returning all appointments from last Monday (defaults to 12am) to the time now.

=== Delete a patient record : `delete patient`

*Format:* `delete patient [patient id]`

Deletes a patient. Automatically switches to patient management mode if necessary.

This command will *only* accept a patient ID to prevent accidental deletion.

[NOTE]
Due to the sensitive nature of medical information, patient records will only be marked as deleted, and displayed as such. They will never disappear completely. +

Deleted patients will not surface on search/list commands and cannot be interacted with in future commands.



=== Delete an appointment : `delete appointment`

*Format:* `delete appointment [appointment id]`

Deletes an appointment. Automatically switches to appointment management mode if necessary.

This command will *only* accept a appointment IDs to prevent accidental deletion.

=== List entered commands : `history`

*Format:* `history`

Lists all commands that you have entered in reverse chronological order.

[TIP]
Tip: Pressing up and down arrows will display the previous and next input respectively in the command box.

=== Clear the Schedule : `clear schedule`

*Format:* `clear {appointments/schedule}`

Empties out all appointments scheduled from the calendar.

=== Exit the program : `exit`

*Format:* `exit`

Exits the program.

== FAQ

*Q*: How do I transfer my data to another device? +
*A*: Install the app in the other computer and overwrite the empty data file it creates with the file that contains the data of your previous PatientBook folder.

== Command Summary

* *View Help* : `help` +

* *Switch To Patient Management Mode:* : `mode patient` +

* *Switch To Appointment Management Mode* : `mode appointment` +

* *Add A Patient* : `add patient` +

* *Create An Appointment* : `add appointment` +

* *List All Patients* : `list patients` +

* *List All Appointments* : `list appointments` +

* *Edit Patient Information* : `edit patient` +

* *Edit Appointment Information* : `edit appointment`

* *Locate Patients By Name* : `find patient`

* *Locate An Appointment* : `find appointment`

* *Delete A Patient Record (Mark As Absent)* : `delete patient`

* *Delete An Appointment* : `delete appointment`

* *View Command History* : `history`

* *Clear The Schedule* : `clear schedule`

* *Exit The Program* : `exit`

== Glossary

*Calendar Mode:*
Same as `Appointment Mode`. It is the mode which allows users to view their current appointments with the patients.
Users can switch to the Calendar mode using `mode` command by adding `calendar`, `cal`, `appointment` or `appt` after
the command.

*Patient Mode:*
Same as `User Mode`. It is the mode which allows users to view the patients and their personal medical details .
Users can switch to the Patient mode using `mode` command by adding `patient` or `user` after the command.
